import{x as u,j as e,t as l}from"./app-DOxJ3Wnc.js";import{B as m}from"./createLucideIcon-DZIc7J5K.js";import{C as d,c,a as j,b as g}from"./card-Bz0DRxyr.js";import{C as N}from"./checkbox-B66UwhKO.js";import{I as p}from"./input-C2ANQTP7.js";import{L as n}from"./label-CTiJyfwV.js";import{T as f}from"./textarea-DRIBbhg2.js";import{A as b}from"./app-layout-CaeuQu42.js";import{A as k}from"./arrow-left-CyU-5Yw-.js";import{A as v}from"./award-BJ2-TI1s.js";import{S as C}from"./save-C0kM51_L.js";import"./index-CrYDax7T.js";import"./index-RV60opQ8.js";import"./index-Cj3P2_NM.js";import"./index-CI31nOew.js";import"./index-PEPdBG5A.js";import"./breadcrumbs-BaHU_sl-.js";import"./app-logo-DiQtiSog.js";import"./index-DDu-XsiY.js";import"./index-BBmvays4.js";import"./index-B8e593zF.js";import"./index-Cl8-oniw.js";import"./chevron-right-9uhcl-nB.js";import"./chevron-down-CcBmENhd.js";import"./file-text-Cawy3mNL.js";import"./target-BiszFdcZ.js";function W({category:s}){const{data:a,setData:r,put:x,processing:o,errors:i}=u({name:s.name||"",description:s.description||"",points:s.points||50,is_active:s.is_active?1:0}),h=t=>{t.preventDefault(),x(`/admin/prospect-categories/${s.id}`)};return e.jsx(b,{breadcrumbs:[{title:"Dashboard",href:"/dashboard"},{title:"Prospect Categories",href:"/admin/prospect-categories"},{title:`Edit ${s.name}`,href:`/admin/prospect-categories/${s.id}/edit`}],children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(m,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(l,{href:"/admin/prospect-categories",children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"Kembali"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Edit Kategori Prospek"}),e.jsxs("p",{className:"text-muted-foreground",children:["Ubah informasi kategori ",s.name]})]})]}),s.prospects_count>0&&e.jsx(d,{className:"border-amber-200 bg-amber-50",children:e.jsx(c,{className:"p-4",children:e.jsxs("p",{className:"text-amber-800",children:["⚠️ ",e.jsx("strong",{children:"Perhatian:"})," Kategori ini sedang digunakan oleh ",s.prospects_count," prospek. Perubahan yang Anda buat akan mempengaruhi semua prospek yang menggunakan kategori ini."]})})}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs(d,{children:[e.jsx(j,{children:e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-5 w-5"}),"Informasi Kategori"]})}),e.jsx(c,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"name",children:["Nama Kategori ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(p,{id:"name",type:"text",placeholder:"Contoh: Prospek Rumahan",value:a.name,onChange:t=>r("name",t.target.value),className:i.name?"border-destructive":""}),i.name&&e.jsx("p",{className:"text-sm text-destructive",children:i.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nama yang mudah diingat untuk kategori ini"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"points",children:["Jumlah Poin ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(p,{id:"points",type:"number",min:"1",max:"1000",placeholder:"50",value:a.points,onChange:t=>r("points",parseInt(t.target.value)||0),className:i.points?"border-destructive":""}),i.points&&e.jsx("p",{className:"text-sm text-destructive",children:i.points}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Poin yang akan diberikan untuk setiap prospek dengan kategori ini"}),s.prospects_count>0&&a.points!==s.points&&e.jsxs("p",{className:"text-sm text-amber-600",children:["⚠️ Mengubah poin akan mempengaruhi ",s.prospects_count," prospek yang sudah ada"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{id:"is_active",checked:!!a.is_active,onCheckedChange:t=>r("is_active",t?1:0)}),e.jsx(n,{htmlFor:"is_active",className:"text-sm font-medium",children:"Kategori aktif"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kategori nonaktif tidak akan muncul dalam pilihan saat membuat prospek baru"}),s.prospects_count>0&&!a.is_active&&s.is_active&&e.jsx("p",{className:"text-sm text-amber-600",children:"⚠️ Menonaktifkan kategori yang sedang digunakan akan menyembunyikannya dari pilihan baru"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:"Deskripsi"}),e.jsx(f,{id:"description",placeholder:"Jelaskan jenis prospek yang cocok untuk kategori ini...",value:a.description,onChange:t=>r("description",t.target.value),className:i.description?"border-destructive":"",rows:6}),i.description&&e.jsx("p",{className:"text-sm text-destructive",children:i.description}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Deskripsi opsional untuk membantu sales memahami kategori ini"})]}),e.jsxs("div",{className:"rounded-lg bg-muted/30 p-4",children:[e.jsx("h4",{className:"mb-2 text-sm font-semibold",children:"Preview Kategori"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:a.name||"Nama Kategori"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["• ",a.points," poin"]}),e.jsx("span",{className:`rounded px-2 py-1 text-xs ${a.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.is_active?"Aktif":"Nonaktif"})]}),a.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]})]}),e.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:[e.jsx("h4",{className:"mb-2 text-sm font-semibold text-blue-800",children:"Statistik Penggunaan"}),e.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Prospek menggunakan:"}),e.jsx("span",{className:"font-medium",children:s.prospects_count})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Status saat ini:"}),e.jsx("span",{className:"font-medium",children:s.is_active?"Aktif":"Nonaktif"})]})]})]})]})]})})]}),e.jsx(d,{children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col justify-end gap-4 sm:flex-row",children:[e.jsx(m,{type:"button",variant:"outline",asChild:!0,children:e.jsx(l,{href:"/admin/prospect-categories",children:"Batal"})}),e.jsxs(m,{type:"submit",disabled:o,children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),o?"Menyimpan...":"Simpan Perubahan"]})]})})})]})]})})}export{W as default};
