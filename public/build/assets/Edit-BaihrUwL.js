import{x as E,j as e,Q as L,t as f}from"./app-BLez37KC.js";import{B}from"./badge-D4xRpmmj.js";import{B as C}from"./createLucideIcon-D7jF-U3a.js";import{C as _,a as S,b as D,c as k}from"./card-DPL22DDR.js";import{I as P}from"./input-CfqiYqKE.js";import{L as a}from"./label-DodKdBUJ.js";import{S as l,a as c,b as o,c as m,d as r}from"./select-DacCT32A.js";import{T as x}from"./textarea-DQevsQuX.js";import{A as T}from"./app-layout-DK7JoKOi.js";import{A as V}from"./arrow-left-WkflEVvo.js";import{C as H}from"./calendar-C3-dEQ3s.js";import{C as Q}from"./clock-CUawQq3k.js";import{S as R}from"./save-BHXHfQsR.js";import"./index-CUGJ33FR.js";import"./index-DACyNOe1.js";import"./index-BM8vqouP.js";import"./index-C8WjSdCF.js";import"./index-DCLdOoa8.js";import"./index-CudrPBro.js";import"./chevron-down-Owv8Hoe3.js";import"./breadcrumbs-TaC7mxAV.js";import"./app-logo-D_aXoxBq.js";import"./index-S0T8KroD.js";import"./index-DWyXbAj6.js";import"./index-CnGiqB3I.js";import"./chevron-right-Ci9N-8KN.js";import"./target-CeMBhz-L.js";const F={pending:{label:"Pending",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"},in_progress:{label:"In Progress",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"},cancelled:{label:"Cancelled",className:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};function pe({followUp:s,users:A}){var h,g,j,b,v,N,y;const{data:n,setData:d,put:I,processing:u,errors:i}=E({customer_id:s.customer_id,subscription_id:s.subscription_id||"",priority:s.priority,status:s.status,description:s.description,notes:s.notes||"",resolution:s.resolution||"",assigned_to:((g=(h=s.assignee)==null?void 0:h.id)==null?void 0:g.toString())||"unassigned"}),w=t=>{t.preventDefault(),I(route("admin.follow-ups.update",s.id))},p=t=>new Date(t).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(T,{children:[e.jsx(L,{title:`Edit Follow Up #${s.id}`}),e.jsxs("div",{className:"container mx-auto space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(f,{href:route("admin.follow-ups.show",s.id),className:"inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"Back to Details"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Edit Follow Up"}),e.jsxs("p",{className:"text-muted-foreground",children:["Follow Up #",s.id]})]})]}),e.jsxs(_,{className:"bg-muted/50",children:[e.jsx(S,{className:"pb-3",children:e.jsxs(D,{className:"flex items-center gap-2 text-base",children:["Current Status",e.jsx(B,{className:(j=F[s.status])==null?void 0:j.className,children:(b=F[s.status])==null?void 0:b.label})]})}),e.jsx(k,{className:"pt-0",children:e.jsxs("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Created"}),e.jsx("p",{className:"text-sm",children:p(s.created_at)})]})]}),s.completed_at&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"}),e.jsx("p",{className:"text-sm",children:p(s.completed_at)})]})]})]})})]}),e.jsxs(_,{children:[e.jsx(S,{children:e.jsx(D,{children:"Edit Follow Up Details"})}),e.jsx(k,{children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{children:"Customer"}),e.jsxs("div",{className:"rounded-md border border-input bg-muted px-3 py-2",children:[e.jsx("div",{className:"text-sm font-medium",children:(v=s.customer)==null?void 0:v.customer_name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[(N=s.customer)==null?void 0:N.customer_id," â€¢ ",(y=s.customer)==null?void 0:y.customer_email]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"subscription_id",children:"Subscription ID (Optional)"}),e.jsx(P,{id:"subscription_id",value:n.subscription_id,onChange:t=>d("subscription_id",t.target.value),placeholder:"Enter subscription ID"}),i.subscription_id&&e.jsx("p",{className:"text-sm text-red-600",children:i.subscription_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"priority",children:"Priority *"}),e.jsxs(l,{value:n.priority,onValueChange:t=>d("priority",t),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Select priority"})}),e.jsxs(m,{children:[e.jsx(r,{value:"low",children:"Low"}),e.jsx(r,{value:"medium",children:"Medium"}),e.jsx(r,{value:"high",children:"High"}),e.jsx(r,{value:"urgent",children:"Urgent"})]})]}),i.priority&&e.jsx("p",{className:"text-sm text-red-600",children:i.priority})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"status",children:"Status *"}),e.jsxs(l,{value:n.status,onValueChange:t=>d("status",t),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Select status"})}),e.jsxs(m,{children:[e.jsx(r,{value:"pending",children:"Pending"}),e.jsx(r,{value:"in_progress",children:"In Progress"}),e.jsx(r,{value:"completed",children:"Completed"}),e.jsx(r,{value:"cancelled",children:"Cancelled"})]})]}),i.status&&e.jsx("p",{className:"text-sm text-red-600",children:i.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"assigned_to",children:"Assigned To"}),e.jsxs(l,{value:n.assigned_to,onValueChange:t=>d("assigned_to",t),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Select user"})}),e.jsxs(m,{children:[e.jsx(r,{value:"unassigned",children:"Not Assigned"}),A.map(t=>e.jsx(r,{value:t.id.toString(),children:t.name},t.id))]})]}),i.assigned_to&&e.jsx("p",{className:"text-sm text-red-600",children:i.assigned_to})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"description",children:"Description *"}),e.jsx(x,{id:"description",value:n.description,onChange:t=>d("description",t.target.value),placeholder:"Describe the follow up requirement...",rows:4}),i.description&&e.jsx("p",{className:"text-sm text-red-600",children:i.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"notes",children:"Additional Notes"}),e.jsx(x,{id:"notes",value:n.notes,onChange:t=>d("notes",t.target.value),placeholder:"Any additional notes...",rows:3}),i.notes&&e.jsx("p",{className:"text-sm text-red-600",children:i.notes})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"resolution",children:"Resolution"}),e.jsx(x,{id:"resolution",value:n.resolution,onChange:t=>d("resolution",t.target.value),placeholder:"Describe the resolution (if completed)...",rows:3}),i.resolution&&e.jsx("p",{className:"text-sm text-red-600",children:i.resolution})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-6",children:[e.jsxs(C,{type:"submit",disabled:u,className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),u?"Updating...":"Update Follow Up"]}),e.jsx(f,{href:route("admin.follow-ups.show",s.id),children:e.jsx(C,{type:"button",variant:"outline",children:"Cancel"})})]})]})})]})]})]})}export{pe as default};
