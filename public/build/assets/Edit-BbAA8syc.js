import{x as _,j as e,Q as $,t as C}from"./app-1TQRmdbV.js";import{B as p}from"./createLucideIcon-DWwUjqXg.js";import{C as x,a as j,b as u,c as f}from"./card-BAct_2yV.js";import{C as b}from"./checkbox-rLVcSo-C.js";import{F as A,a as l,b as m,c as i}from"./form-BK1qccbz.js";import{I as c}from"./input-MMDH--PJ.js";import{L as N}from"./label-BoqAjbjG.js";import{A as P}from"./app-layout-C5kaYaAQ.js";import{A as R}from"./arrow-left-efpN9iOD.js";import{S as q}from"./save-o-8oyTVp.js";import"./index-DSPG1tRr.js";import"./index-DrblBIbr.js";import"./index-CKKK69Ka.js";import"./index-BN0-t6CM.js";import"./index-DlB68MZo.js";import"./breadcrumbs-LGzNgzJF.js";import"./app-logo-DotSD86T.js";import"./index-DVN2uUiL.js";import"./index-ByE5jpk2.js";import"./chevron-right-BlqDddEB.js";import"./chevron-down-DygrjMWq.js";import"./file-text-s4U_5PDi.js";import"./trending-up-cHpR_S6l.js";import"./target-uKKW-0tC.js";const B=[{title:"Dashboard",href:"/dashboard"},{title:"User Management",href:"/admin/users"},{title:"Edit User",href:"#"}];function te({user:n,roles:F,permissions:y}){var w,g;const{data:r,setData:a,put:U,processing:v,errors:d}=_({name:n.name,username:n.username||"",email:n.email,password:"",password_confirmation:"",roles:((w=n.roles)==null?void 0:w.map(s=>s.name))||[],permissions:((g=n.permissions)==null?void 0:g.map(s=>s.name))||[]}),k=s=>{s.preventDefault(),U(`/admin/users/${n.id}`)},E=(s,t)=>{const o=r.roles;t?a("roles",[...o,s]):a("roles",o.filter(h=>h!==s))},L=(s,t)=>{const o=r.permissions;t?a("permissions",[...o,s]):a("permissions",o.filter(h=>h!==s))};return e.jsxs(P,{breadcrumbs:B,children:[e.jsx($,{title:`Edit User - ${n.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{variant:"outline",asChild:!0,children:e.jsxs(C,{href:"/admin/users",children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Back to Users"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Edit User"}),e.jsx("p",{className:"text-muted-foreground",children:"Update user information and permissions"})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"User Information"})}),e.jsx(f,{children:e.jsxs(A,{onSubmit:k,children:[e.jsxs(l,{children:[e.jsx(m,{htmlFor:"name",required:!0,children:"Name"}),e.jsx(c,{id:"name",value:r.name,onChange:s=>a("name",s.target.value),placeholder:"Enter full name"}),e.jsx(i,{children:d.name})]}),e.jsxs(l,{children:[e.jsx(m,{htmlFor:"username",children:"Username"}),e.jsx(c,{id:"username",value:r.username,onChange:s=>a("username",s.target.value),placeholder:"Enter username (optional)"}),e.jsx(i,{children:d.username})]}),e.jsxs(l,{children:[e.jsx(m,{htmlFor:"email",required:!0,children:"Email"}),e.jsx(c,{id:"email",type:"email",value:r.email,onChange:s=>a("email",s.target.value),placeholder:"Enter email address"}),e.jsx(i,{children:d.email})]}),e.jsxs(l,{children:[e.jsx(m,{htmlFor:"password",children:"New Password"}),e.jsx(c,{id:"password",type:"password",value:r.password,onChange:s=>a("password",s.target.value),placeholder:"Leave blank to keep current password"}),e.jsx(i,{type:"description",children:"Leave blank to keep current password"}),e.jsx(i,{children:d.password})]}),r.password&&e.jsxs(l,{children:[e.jsx(m,{htmlFor:"password_confirmation",required:!0,children:"Confirm New Password"}),e.jsx(c,{id:"password_confirmation",type:"password",value:r.password_confirmation,onChange:s=>a("password_confirmation",s.target.value),placeholder:"Confirm new password"}),e.jsx(i,{children:d.password_confirmation})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs(p,{type:"submit",disabled:v,children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),v?"Updating...":"Update User"]}),e.jsx(p,{type:"button",variant:"outline",asChild:!0,children:e.jsx(C,{href:"/admin/users",children:"Cancel"})})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"Roles"})}),e.jsxs(f,{children:[e.jsx("div",{className:"space-y-3",children:F.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{id:`role-${s.id}`,checked:r.roles.includes(s.name),onCheckedChange:t=>E(s.name,t)}),e.jsx(N,{htmlFor:`role-${s.id}`,className:"text-sm font-medium",children:s.name})]},s.id))}),e.jsx(i,{children:d.roles})]})]}),e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(u,{children:"Additional Permissions"})}),e.jsxs(f,{children:[e.jsx("div",{className:"max-h-64 space-y-3 overflow-y-auto",children:y.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{id:`permission-${s.id}`,checked:r.permissions.includes(s.name),onCheckedChange:t=>L(s.name,t)}),e.jsx(N,{htmlFor:`permission-${s.id}`,className:"text-sm font-medium",children:s.name})]},s.id))}),e.jsx(i,{children:d.permissions})]})]})]})]})]})]})}export{te as default};
