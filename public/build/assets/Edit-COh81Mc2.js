import{x as _,j as e,Q as $,t as C}from"./app-ClVKJ_T6.js";import{B as x}from"./createLucideIcon-DQNgwNcA.js";import{C as p,a as j,b as u,c as f}from"./card-DT7AjX2P.js";import{C as b}from"./checkbox-CR9rDQNS.js";import{F as A,a as o,b as m,c as i}from"./form-rWM-qobX.js";import{I as c}from"./input-B1fFZss4.js";import{L as N}from"./label-CWnJTISN.js";import{A as P}from"./app-layout-Cx-rzVWT.js";import{A as R}from"./arrow-left-D4fUtIkI.js";import{S as q}from"./save-Dq9QCz2R.js";import"./index-CSWRIdak.js";import"./index-BZswQIQG.js";import"./index-CDL9tdJ3.js";import"./app-logo-Bd7VC41X.js";import"./chevron-right-oQ47ucqI.js";const B=[{title:"Dashboard",href:"/dashboard"},{title:"User Management",href:"/admin/users"},{title:"Edit User",href:"#"}];function Y({user:n,roles:F,permissions:y}){var w,g;const{data:r,setData:a,put:U,processing:v,errors:d}=_({name:n.name,username:n.username||"",email:n.email,password:"",password_confirmation:"",roles:((w=n.roles)==null?void 0:w.map(s=>s.name))||[],permissions:((g=n.permissions)==null?void 0:g.map(s=>s.name))||[]}),k=s=>{s.preventDefault(),U(`/admin/users/${n.id}`)},E=(s,l)=>{const t=r.roles;l?a("roles",[...t,s]):a("roles",t.filter(h=>h!==s))},L=(s,l)=>{const t=r.permissions;l?a("permissions",[...t,s]):a("permissions",t.filter(h=>h!==s))};return e.jsxs(P,{breadcrumbs:B,children:[e.jsx($,{title:`Edit User - ${n.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{variant:"outline",asChild:!0,children:e.jsxs(C,{href:"/admin/users",children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Back to Users"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Edit User"}),e.jsx("p",{className:"text-muted-foreground",children:"Update user information and permissions"})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(p,{children:[e.jsx(j,{children:e.jsx(u,{children:"User Information"})}),e.jsx(f,{children:e.jsxs(A,{onSubmit:k,children:[e.jsxs(o,{children:[e.jsx(m,{htmlFor:"name",required:!0,children:"Name"}),e.jsx(c,{id:"name",value:r.name,onChange:s=>a("name",s.target.value),placeholder:"Enter full name"}),e.jsx(i,{children:d.name})]}),e.jsxs(o,{children:[e.jsx(m,{htmlFor:"username",children:"Username"}),e.jsx(c,{id:"username",value:r.username,onChange:s=>a("username",s.target.value),placeholder:"Enter username (optional)"}),e.jsx(i,{children:d.username})]}),e.jsxs(o,{children:[e.jsx(m,{htmlFor:"email",required:!0,children:"Email"}),e.jsx(c,{id:"email",type:"email",value:r.email,onChange:s=>a("email",s.target.value),placeholder:"Enter email address"}),e.jsx(i,{children:d.email})]}),e.jsxs(o,{children:[e.jsx(m,{htmlFor:"password",children:"New Password"}),e.jsx(c,{id:"password",type:"password",value:r.password,onChange:s=>a("password",s.target.value),placeholder:"Leave blank to keep current password"}),e.jsx(i,{type:"description",children:"Leave blank to keep current password"}),e.jsx(i,{children:d.password})]}),r.password&&e.jsxs(o,{children:[e.jsx(m,{htmlFor:"password_confirmation",required:!0,children:"Confirm New Password"}),e.jsx(c,{id:"password_confirmation",type:"password",value:r.password_confirmation,onChange:s=>a("password_confirmation",s.target.value),placeholder:"Confirm new password"}),e.jsx(i,{children:d.password_confirmation})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs(x,{type:"submit",disabled:v,children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),v?"Updating...":"Update User"]}),e.jsx(x,{type:"button",variant:"outline",asChild:!0,children:e.jsx(C,{href:"/admin/users",children:"Cancel"})})]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(p,{children:[e.jsx(j,{children:e.jsx(u,{children:"Roles"})}),e.jsxs(f,{children:[e.jsx("div",{className:"space-y-3",children:F.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{id:`role-${s.id}`,checked:r.roles.includes(s.name),onCheckedChange:l=>E(s.name,l)}),e.jsx(N,{htmlFor:`role-${s.id}`,className:"text-sm font-medium",children:s.name})]},s.id))}),e.jsx(i,{children:d.roles})]})]}),e.jsxs(p,{children:[e.jsx(j,{children:e.jsx(u,{children:"Additional Permissions"})}),e.jsxs(f,{children:[e.jsx("div",{className:"max-h-64 space-y-3 overflow-y-auto",children:y.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{id:`permission-${s.id}`,checked:r.permissions.includes(s.name),onCheckedChange:l=>L(s.name,l)}),e.jsx(N,{htmlFor:`permission-${s.id}`,className:"text-sm font-medium",children:s.name})]},s.id))}),e.jsx(i,{children:d.permissions})]})]})]})]})]})]})}export{Y as default};
