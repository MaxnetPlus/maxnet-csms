import{r as F,j as e,Q as I,S as j}from"./app-DE-hsCNC.js";import{B as u}from"./createLucideIcon-Cco9Y3GR.js";import{C as t,a as r,b as l,c as n,d as S}from"./card-fwMX-Di_.js";import{I as L}from"./input-3TknKiPK.js";import{S as f,a as g,b as N,c as v,d as x}from"./select-Cfb0zG0b.js";import{A as R}from"./app-layout-DZScp_QL.js";import D from"./SalesPerformanceTable-BzJ9GDzg.js";import{D as z}from"./download-BsoVVwVS.js";import{T as E}from"./trending-up-4dz4ss3j.js";import{T as U}from"./trophy-DxLmXpgz.js";import{U as V}from"./breadcrumbs-CyRhQ6mX.js";import{T as B}from"./target-B55bVsRM.js";import{S as w}from"./search-CWIA0DSq.js";import{R as M}from"./rotate-ccw-jb0_M64r.js";import"./index-CUFY0TLt.js";import"./index-i1yjT0kI.js";import"./index-CLwuHly2.js";import"./index-CkTHI7Xz.js";import"./index-DpX5MTmY.js";import"./chevron-down-yoRcCLtw.js";import"./chevron-up-BU3i9sza.js";import"./index-BVh7DB6t.js";import"./theme-toggle-DUe8uWlC.js";import"./file-text-Dp3GDcf5.js";import"./badge-cRl_dEeh.js";import"./table-CNfPJBPi.js";import"./chevron-left-D4tl1gYw.js";import"./chevron-right-CiucHPib.js";import"./index-DS2TguYX.js";function fe({auth:A,performanceData:c,stats:i,salesUsers:y,filters:h,monthNames:b,years:C}){const[a,p]=F.useState(h),m=(s,o)=>{const d={...a,[s]:o};p(d),j.get(route("admin.sales-performance.index"),d,{preserveState:!0,preserveScroll:!0})},T=s=>{s.preventDefault(),j.get(route("admin.sales-performance.index"),a,{preserveState:!0,preserveScroll:!0})},P=()=>{const s={month:new Date().getMonth()+1,year:new Date().getFullYear(),sales_id:"all",search:"",sort:"total_points",direction:"desc"};p(s),j.get(route("admin.sales-performance.index"),s)},_=()=>{const s=Object.entries(a).map(([d,k])=>`${d}=${encodeURIComponent(k.toString())}`).join("&"),o=route("admin.sales-performance.export")+"?"+s;window.open(o,"_blank")};return e.jsxs(R,{breadcrumbs:[{title:" Dashboard",href:"/dashboard"},{title:"Laporan Performa Sales",href:"/admin/sales-performance"}],children:[e.jsx(I,{title:"Laporan Performa Sales"}),e.jsxs("div",{className:"mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sales Performance Report"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor and analyze your sales team's performance"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(u,{onClick:_,variant:"outline",size:"sm",children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Export Excel"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Total Poin"}),e.jsx(E,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.total_points.toLocaleString()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[b[h.month]," ",h.year]})]})]}),e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Prospek Terkonversi"}),e.jsx(U,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.total_converted.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total konversi bulan ini"})]})]}),e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Total Sales"}),e.jsx(V,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.total_sales}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tim sales aktif"})]})]}),e.jsxs(t,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Pencapaian Target"}),e.jsx(B,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[i.achievement_percentage,"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Dari target ",i.total_target.toLocaleString()]})]})]})]}),e.jsxs(t,{children:[e.jsxs(r,{children:[e.jsx(l,{className:"text-lg",children:"Filter & Pencarian"}),e.jsx(S,{children:"Filter laporan berdasarkan periode dan kriteria tertentu"})]}),e.jsx(n,{children:e.jsxs("form",{onSubmit:T,className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Bulan"}),e.jsxs(f,{value:a.month.toString(),onValueChange:s=>m("month",parseInt(s)),children:[e.jsx(g,{children:e.jsx(N,{})}),e.jsx(v,{children:Object.entries(b).map(([s,o])=>e.jsx(x,{value:s,children:o},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tahun"}),e.jsxs(f,{value:a.year.toString(),onValueChange:s=>m("year",parseInt(s)),children:[e.jsx(g,{children:e.jsx(N,{})}),e.jsx(v,{children:C.map(s=>e.jsx(x,{value:s.toString(),children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Sales"}),e.jsxs(f,{value:a.sales_id,onValueChange:s=>m("sales_id",s),children:[e.jsx(g,{children:e.jsx(N,{})}),e.jsxs(v,{children:[e.jsx(x,{value:"all",children:"Semua Sales"}),y.map(s=>e.jsx(x,{value:s.id.toString(),children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Pencarian"}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(w,{className:"absolute top-3 left-3 h-4 w-4 text-muted-foreground"}),e.jsx(L,{placeholder:"Cari nama sales...",value:a.search,onChange:s=>p({...a,search:s.target.value}),className:"w-auto pl-9"})]}),e.jsxs("div",{className:"z-100 mt-2 flex gap-2 sm:mt-0",children:[e.jsxs(u,{type:"submit",size:"sm",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Cari"]}),e.jsxs(u,{type:"button",variant:"outline",size:"sm",onClick:P,children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]})]}),e.jsx("div",{className:"flex items-end gap-2"})]})})]}),e.jsxs(t,{children:[e.jsxs(r,{children:[e.jsx(l,{className:"text-lg",children:"Data Performa Sales"}),e.jsxs(S,{children:["Menampilkan ",c.from,"-",c.to," dari ",c.total," data"]})]}),e.jsx(n,{children:e.jsx(D,{data:c,filters:a,onFilterChange:m})})]})]})]})}export{fe as default};
