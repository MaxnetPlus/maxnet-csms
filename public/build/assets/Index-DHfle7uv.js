import{r as l,j as e,Q as re}from"./app-Ci8v6MrU.js";import{A as le,b as ce}from"./alert-BU8Q5t3S.js";import{a as oe,B as j}from"./createLucideIcon-D00yv57C.js";import{C as R,a as L,b as _,d as A,c as M}from"./card-ByE5s6QK.js";import{I as de}from"./input-DnuT7wtE.js";import{L as O}from"./label-CkP74dud.js";import{P as me}from"./progress-Dq9tSPpY.js";import{A as pe,D as B}from"./app-layout-Bk_jRNVy.js";import{C as ue}from"./circle-alert-fKGL657e.js";import{C as W}from"./clock-D7wX5m9f.js";import{X as Y}from"./index-Rg3zaoIu.js";import{F as q}from"./file-text-BUANXoVS.js";import{C as xe}from"./circle-check-big-lmGurD1_.js";import{T as Z}from"./triangle-alert-kmcL1q5q.js";import"./index-DDGoCjQ0.js";import"./index-de0Lxc7d.js";import"./breadcrumbs-dv4TgKDm.js";import"./app-logo-B3Gf4bRh.js";import"./index-CjJcgxXh.js";import"./index-SNZ2oUW7.js";import"./index-CWMKBz9E.js";import"./index-cyYLnq4n.js";import"./index-CBB6N_tQ.js";import"./chevron-right-CupTmoq7.js";import"./chevron-down-Du86AyeO.js";import"./trending-up-wTNNJME6.js";import"./target-Cx7wIY1u.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ee=oe("Upload",he),fe=[{title:"Dashboard",href:"/dashboard"},{title:"Database Import",href:"/admin/database-import"}];function Ue(){var G;const[u,g]=l.useState(0),[Q,b]=l.useState(""),[t,N]=l.useState(null),[f,z]=l.useState(null),[w,k]=l.useState(!1),[U,C]=l.useState(null),[v,V]=l.useState(null),[J,d]=l.useState([]),[m,T]=l.useState(null),[F,K]=l.useState(!1),[p,X]=l.useState("customers_subscriptions"),[S,H]=l.useState({customers:[],subscriptions:[],maintenances:[]}),P=l.useRef(null),D=async()=>{var a;let s=(a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.content;if(!s)try{const i=await fetch("/admin/database-import",{method:"GET",headers:{Accept:"text/html"}});if(i.ok){const c=(await i.text()).match(/<meta name="csrf-token" content="([^"]+)"/);if(c){s=c[1];const n=document.querySelector('meta[name="csrf-token"]');n&&(n.content=s)}}}catch(i){console.warn("Failed to refresh CSRF token:",i)}if(!s)throw new Error("CSRF token not found. Please refresh the page and try again.");return s},se=l.useCallback(s=>{var i,r;const a=(i=s.target.files)==null?void 0:i[0];if(a){if(((r=a.name.split(".").pop())==null?void 0:r.toLowerCase())!=="sql"){alert("Please select a valid SQL file (.sql extension required)"),s.target.value="";return}if(a.size>157286400){alert("File size must not exceed 150MB"),s.target.value="";return}z(a),N(null),g(0),b(""),C(null),d([])}},[]),E=l.useCallback(async(s,a)=>{try{K(!0);const i=await D(),r=await fetch("/admin/database-import/skipped-records",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":i,Accept:"application/json"},body:JSON.stringify({progress_id:s,type:a})});if(!r.ok)throw new Error("Failed to fetch skipped records");const c=await r.json();c.success&&H(n=>({...n,[a]:c.data||[]}))}catch(i){console.error("Error fetching skipped records:",i)}finally{K(!1)}},[D]),I=l.useCallback(async s=>{try{const a=await D(),i=await fetch("/admin/database-import/progress",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":a,Accept:"application/json"},body:JSON.stringify({progress_id:s})});if(!i.ok)throw new Error("Failed to fetch progress");const r=await i.json(),c=Math.max(0,Math.min(100,r.percentage));g(c),b(r.message),d(n=>{const o=`${new Date().toLocaleTimeString()}: ${r.message}`,y=n[n.length-1],h=y?y.split(": ").slice(1).join(": "):"";return r.message!==h?[...n,o]:n}),r.percentage>=0&&r.percentage<100?setTimeout(()=>I(s),1e3):r.percentage===100?(d(n=>[...n,`${new Date().toLocaleTimeString()}: Fetching final results...`]),setTimeout(async()=>{try{let n=3,x=0,o=null;for(;x<n;){x++,d(h=>[...h,`${new Date().toLocaleTimeString()}: Fetching final results (attempt ${x}/${n})...`]);const y=await fetch("/admin/database-import/results",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":a,Accept:"application/json"},body:JSON.stringify({progress_id:s})});if(console.log(`Results API response status (attempt ${x}):`,y.status),y.ok&&(o=await y.json(),console.log(`Results response (attempt ${x}):`,o),o.success&&o.data)){console.log("Setting result to:",o.data),N(o.data),d(h=>[...h,`${new Date().toLocaleTimeString()}: Results retrieved successfully!`]);break}if(x<n){const h=x*2e3;d($=>[...$,`${new Date().toLocaleTimeString()}: Results not ready, waiting ${h/1e3} seconds...`]),await new Promise($=>setTimeout($,h))}}(!(o!=null&&o.success)||!(o!=null&&o.data))&&(console.log("Results not available after multiple attempts, using placeholder"),d(h=>[...h,`${new Date().toLocaleTimeString()}: Warning: Results not available after multiple attempts`]),N({progress_id:s,customers:{imported:0,skipped:0,total:0},subscriptions:{imported:0,skipped:0,total:0}}))}catch(n){console.error("Failed to fetch results:",n),d(o=>[...o,`${new Date().toLocaleTimeString()}: Warning: Could not fetch detailed results`]),console.log("Creating placeholder result due to exception"),N({progress_id:s,customers:{imported:0,skipped:0,total:0},subscriptions:{imported:0,skipped:0,total:0}})}k(!1),console.log("Import process completed, uploading set to false, progress:",r.percentage)},2e3)):r.percentage<0&&(C(r.message),k(!1))}catch(a){console.error("Progress tracking error:",a),s&&setTimeout(()=>I(s),2e3)}},[D]),te=l.useCallback(async()=>{if(f){k(!0),console.log("Starting upload process, uploading set to true"),g(0),b("Starting import..."),N(null),C(null),d([`${new Date().toLocaleTimeString()}: Import started...`]);try{const s=new FormData;s.append("sql_file",f),s.append("import_type",p);const a=await D();g(5),b("Uploading file..."),d(n=>[...n,`${new Date().toLocaleTimeString()}: Uploading SQL file...`]);const i=await fetch("/admin/database-import/upload",{method:"POST",headers:{"X-CSRF-TOKEN":a,Accept:"application/json"},body:s}),r=i.clone();let c;try{c=await i.json()}catch{const x=await r.text();throw console.error("Failed to parse JSON response:",x),i.status===419?new Error("Session expired. Please refresh the page and try again."):i.status===403?new Error("Access denied. You may not have permission to import databases."):i.status===422?new Error("Validation failed. Please check your file and try again."):new Error(`Server returned invalid JSON response. Status: ${i.status}. Please check the server logs for more details.`)}if(i.ok&&c.success)c.data.progress_id?(V(c.data.progress_id),d(n=>[...n,`${new Date().toLocaleTimeString()}: File uploaded successfully, starting import process...`]),await I(c.data.progress_id)):(N(c.data),g(100),b("Import completed successfully!"),d(n=>[...n,`${new Date().toLocaleTimeString()}: Import completed successfully!`]),k(!1));else throw new Error(c.message||"Import failed")}catch(s){const a=s.message||"Import failed";C(a),g(0),b("Import failed"),d(i=>[...i,`${new Date().toLocaleTimeString()}: Error - ${a}`]),k(!1)}}},[f,I]),ae=l.useCallback(()=>{z(null),k(!1),g(0),b(""),N(null),C(null),V(null),d([]),T(null),H({customers:[],subscriptions:[],maintenances:[]}),P.current&&(clearInterval(P.current),P.current=null);const s=document.getElementById("sql-file");s&&(s.value="")},[]),ie=s=>{if(s===0)return"0 Bytes";const a=1024,i=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(s)/Math.log(a));return parseFloat((s/Math.pow(a,r)).toFixed(2))+" "+i[r]},ne=()=>{window.location.href="/admin/reports"};return l.useEffect(()=>{console.log("Result state changed:",t)},[t]),e.jsxs(pe,{breadcrumbs:fe,children:[e.jsx(re,{title:"Database Import"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Database Import"}),e.jsx("p",{className:"text-muted-foreground",children:"Import customers and subscriptions from SQL file"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(R,{children:[e.jsxs(L,{children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"Upload SQL File"]}),e.jsx(A,{children:p==="customers_subscriptions"?"Select a SQL file containing customers and subscriptions data (max 150MB)":'Select a SQL file containing maintenance tickets with "sales" subject_problem (max 150MB)'})]}),e.jsxs(M,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"import-type",children:"Import Type"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"import-type",value:"customers_subscriptions",checked:p==="customers_subscriptions",onChange:s=>X(s.target.value),disabled:w,className:"form-radio"}),e.jsx("span",{children:"Customers & Subscriptions"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"import-type",value:"maintenances",checked:p==="maintenances",onChange:s=>X(s.target.value),disabled:w,className:"form-radio"}),e.jsx("span",{children:"Maintenance Tickets (Sales Only)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"sql-file",children:"SQL File"}),e.jsx(de,{id:"sql-file",type:"file",accept:".sql",onChange:se,disabled:w}),f&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",f.name," (",ie(f.size),")"]})]}),U&&e.jsxs(le,{variant:"destructive",className:"dark:border-red-800 dark:bg-red-900 dark:text-red-100",children:[e.jsx(ue,{className:"h-4 w-4 dark:text-red-300"}),e.jsx(ce,{className:"dark:text-red-100",children:U})]}),w&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:"Import Progress"}),e.jsxs("span",{className:"font-medium",children:[u,"%"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{value:u,className:`h-3 w-full ${u<0?"bg-red-100":u<40?"bg-blue-100":u<70?"bg-green-100":u<100?"bg-purple-100":"bg-emerald-100"}`}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:u>=10?"text-green-600":"",children:"Parse File"}),p==="customers_subscriptions"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:u>=40?"text-green-600":"",children:"Import Customers"}),e.jsx("span",{className:u>=70?"text-green-600":"",children:"Import Subscriptions"})]}):e.jsx("span",{className:u>=40?"text-green-600":"",children:"Import Maintenances"}),e.jsx("span",{className:u>=100?"text-green-600":"",children:"Complete"})]})]}),Q&&e.jsxs("div",{className:"flex items-center gap-2 rounded bg-blue-50 p-2 text-sm",children:[e.jsx(W,{className:"h-4 w-4 flex-shrink-0 text-blue-600"}),e.jsx("span",{className:"text-blue-800",children:Q})]})]}),J.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(O,{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(W,{className:"h-4 w-4"}),"Import Activity Log"]}),e.jsxs("div",{className:"max-h-40 space-y-1 overflow-y-auto rounded-md border bg-muted/30 p-3",children:[J.map((s,a)=>e.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[e.jsxs("span",{className:"flex-shrink-0 font-mono text-blue-600",children:[s.split(": ")[0],":"]}),e.jsx("span",{className:"text-muted-foreground",children:s.split(": ").slice(1).join(": ")})]},a)),e.jsx("div",{ref:s=>s==null?void 0:s.scrollIntoView({behavior:"smooth"})})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(j,{onClick:te,disabled:!f||w,className:"flex-1",children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),w?"Importing...":"Start Import"]}),(f||t)&&e.jsxs(j,{variant:"outline",onClick:ae,disabled:w,children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]})]}),e.jsxs(R,{children:[e.jsx(L,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),"Panduan Impor"]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 font-medium",children:"Persyaratan File"}),e.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[e.jsx("li",{children:"• Format file SQL (.sql)"}),e.jsx("li",{children:"• Ukuran file maksimum: 150MB"}),e.jsx("li",{children:"• Harus berisi perintah INSERT"}),e.jsx("li",{children:"• Disarankan menggunakan encoding UTF-8"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 font-medium",children:"Tabel yang Diharapkan"}),e.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[e.jsxs("li",{children:["• ",e.jsx("code",{children:"customers"})," - Data master pelanggan"]}),e.jsxs("li",{children:["• ",e.jsx("code",{children:"subscriptions"})," - Data langganan"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 font-medium",children:"Proses Import"}),e.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[e.jsx("li",{children:"• Pelanggan diimpor terlebih dahulu"}),e.jsx("li",{children:"• Langganan akan dikaitkan ke pelanggan"}),e.jsx("li",{children:"• Data duplikat akan diperbarui"}),e.jsx("li",{children:"• Data tidak valid akan dilewati"})]})]})]})]})]}),t&&e.jsxs(R,{children:[e.jsxs(L,{children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5 text-green-600"}),"Import Results"]}),e.jsxs(A,{children:["Import completed at ",new Date().toLocaleString()]})]}),e.jsxs(M,{children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[p==="customers_subscriptions"&&t.customers&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-blue-600"}),e.jsx("h4",{className:"font-medium",children:"Customers"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total records found:"}),e.jsx("span",{className:"font-medium",children:t.customers.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Successfully imported:"}),e.jsx("span",{className:"font-medium text-green-600",children:t.customers.imported})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Skipped/Failed:"}),e.jsx("span",{className:"font-medium text-yellow-600",children:t.customers.skipped})]}),e.jsx("div",{className:"mt-2 border-t pt-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Success Rate:"}),e.jsxs("span",{className:"font-medium text-blue-600",children:[t.customers.total>0?Math.round(t.customers.imported/t.customers.total*100):0,"%"]})]})})]})]}),p==="customers_subscriptions"&&t.subscriptions&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-purple-600"}),e.jsx("h4",{className:"font-medium",children:"Subscriptions"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total records found:"}),e.jsx("span",{className:"font-medium",children:t.subscriptions.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Successfully imported:"}),e.jsx("span",{className:"font-medium text-green-600",children:t.subscriptions.imported})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Skipped/Failed:"}),e.jsx("span",{className:"font-medium text-yellow-600",children:t.subscriptions.skipped})]}),e.jsx("div",{className:"mt-2 border-t pt-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Success Rate:"}),e.jsxs("span",{className:"font-medium text-purple-600",children:[t.subscriptions.total>0?Math.round(t.subscriptions.imported/t.subscriptions.total*100):0,"%"]})]})})]})]}),p==="maintenances"&&t.maintenances&&e.jsxs("div",{className:"space-y-4 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-orange-600"}),e.jsx("h4",{className:"font-medium",children:"Maintenance Tickets"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total records found:"}),e.jsx("span",{className:"font-medium",children:t.maintenances.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Successfully imported:"}),e.jsx("span",{className:"font-medium text-green-600",children:t.maintenances.imported})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Skipped/Failed:"}),e.jsx("span",{className:"font-medium text-yellow-600",children:t.maintenances.skipped})]}),e.jsx("div",{className:"mt-2 border-t pt-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:"Success Rate:"}),e.jsxs("span",{className:"font-medium text-orange-600",children:[t.maintenances.total>0?Math.round(t.maintenances.imported/t.maintenances.total*100):0,"%"]})]})})]})]})]}),(p==="customers_subscriptions"&&t.customers&&t.subscriptions&&(t.customers.skipped>0||t.subscriptions.skipped>0)||p==="maintenances"&&t.maintenances&&t.maintenances.skipped>0)&&e.jsx("div",{className:"mt-6 rounded-lg border border-yellow-200 bg-yellow-50 p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Z,{className:"mt-0.5 h-5 w-5 text-yellow-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-yellow-800",children:"Some records were skipped"}),e.jsx("p",{className:"mt-1 text-sm text-yellow-700",children:"Records may have been skipped due to:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-yellow-700",children:[e.jsx("li",{children:"• Invalid customer references"}),e.jsx("li",{children:"• Data validation errors"}),e.jsx("li",{children:"• Database constraint violations"}),e.jsx("li",{children:"• Duplicate IDs"})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[p==="customers_subscriptions"&&t.customers&&t.customers.skipped>0&&e.jsxs(j,{variant:"outline",size:"sm",onClick:()=>{T("customers"),v&&S.customers.length===0&&E(v,"customers")},disabled:F,className:"border-yellow-300 text-yellow-800 hover:bg-yellow-100",children:["View Skipped Customers (",t.customers.skipped,")"]}),p==="customers_subscriptions"&&t.subscriptions&&t.subscriptions.skipped>0&&e.jsxs(j,{variant:"outline",size:"sm",onClick:()=>{T("subscriptions"),v&&S.subscriptions.length===0&&E(v,"subscriptions")},disabled:F,className:"border-yellow-300 text-yellow-800 hover:bg-yellow-100",children:["View Skipped Subscriptions (",t.subscriptions.skipped,")"]}),p==="maintenances"&&t.maintenances&&t.maintenances.skipped>0&&e.jsxs(j,{variant:"outline",size:"sm",onClick:()=>{T("maintenances"),v&&S.maintenances.length===0&&E(v,"maintenances")},disabled:F,className:"border-yellow-300 text-yellow-800 hover:bg-yellow-100",children:["View Skipped Maintenances (",t.maintenances.skipped,")"]})]})]})]})}),e.jsxs("div",{className:"mt-6 flex justify-center gap-3",children:[e.jsxs(j,{onClick:ne,children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"View Reports"]}),e.jsxs(j,{variant:"outline",onClick:()=>window.location.reload(),children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Import Another File"]})]})]})]}),m&&e.jsxs(R,{className:"mt-6",children:[e.jsxs(L,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5 text-yellow-600"}),"Skipped"," ",m==="customers"?"Customers":m==="subscriptions"?"Subscriptions":"Maintenances"," ","Details"]}),e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>T(null),className:"h-8 w-8 p-0",children:e.jsx(Y,{className:"h-4 w-4"})})]}),e.jsx(A,{children:"Details of records that were skipped during import with reasons"})]}),e.jsx(M,{children:F?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading skipped records..."})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing skipped ",m," records (",S[m].length," of"," ",((G=t==null?void 0:t[m])==null?void 0:G.skipped)||0," total)"]}),S[m].length>0?e.jsx("div",{className:"max-h-96 space-y-3 overflow-y-auto",children:S[m].map((s,a)=>e.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsx("div",{className:"font-medium text-red-800",children:m==="customers"?e.jsxs(e.Fragment,{children:["Customer:"," ",s.customer_name||s.customer_id]}):m==="subscriptions"?e.jsxs(e.Fragment,{children:["Subscription: ",s.subscription_id]}):e.jsxs(e.Fragment,{children:["Maintenance: ",s.ticket_id]})}),e.jsx("span",{className:"rounded bg-red-100 px-2 py-1 text-xs text-red-700",children:s.reason})]}),e.jsxs("div",{className:"text-sm text-red-700",children:[m==="maintenances"?e.jsxs("div",{children:[e.jsx("strong",{children:"Ticket ID:"})," ",s.ticket_id]}):e.jsxs("div",{children:[e.jsx("strong",{children:"Customer ID:"})," ",s.customer_id]}),m==="subscriptions"&&s.subscription_id&&e.jsxs("div",{children:[e.jsx("strong",{children:"Subscription ID:"})," ",s.subscription_id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Details:"})," ",s.details]})]})]},a))}):e.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:["No detailed records available for skipped ",m]})]})})]})]})]})}export{Ue as default};
