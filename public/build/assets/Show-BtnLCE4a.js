import{J as w,r as C,j as e,Q as _,S as h}from"./app-Ct02SPqS.js";import{B as j}from"./badge-Co5a1Bgq.js";import{B as u}from"./createLucideIcon-_hu__2Zm.js";import{C as i,a as l,b as c,c as m}from"./card-CCG6Tz-L.js";import{S as g}from"./separator-DazFFT5S.js";import{A as k}from"./app-layout-BnzRu4s9.js";import U from"./CreateFollowUpDialog-x0fBJsiv.js";import{A as S}from"./arrow-left-idYIQRrV.js";import{U as D}from"./user-plus-hOAtRfJE.js";import{F}from"./file-text-BGskns63.js";import{U as B}from"./user-2gnWEvgD.js";import{M as T}from"./mail-khOo8Ohe.js";import{P as I}from"./phone-iZvxRQm5.js";import{S as L}from"./breadcrumbs-BQDwV_-u.js";import"./index-B8WYyssL.js";import"./index-BCvBiwKD.js";import"./index-BcBdkLzA.js";import"./chevron-down-BWteAm1R.js";import"./app-logo-CH_8fs4b.js";import"./trending-up-CG-a-nw_.js";import"./target-CU7hcelH.js";import"./dialog-w7GOOatN.js";import"./index-DHUJ--yc.js";import"./index-jj74kwHj.js";import"./label-B5twVajU.js";import"./select-BQhgVxFA.js";import"./index-kYJyEc4f.js";import"./index-DD0-SZBN.js";import"./index-DcQsAyWr.js";import"./chevron-up-CMJIJi5y.js";import"./textarea-C0PUG6F-.js";import"./circle-alert-BOJwAhtq.js";import"./loader-circle-C2rdjGW4.js";import"./index-Cj33yIcJ.js";import"./chevron-right-DrnitRZM.js";function ue(){var o,d,x,p;const{maintenance:s}=w().props,[N,r]=C.useState(!1),n=t=>{switch(t==null?void 0:t.toLowerCase()){case"open":return"bg-red-100 text-red-800";case"closed":return"bg-green-100 text-green-800";case"in progress":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},a=t=>{if(!t)return"-";try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"-"}},f=()=>{h.visit(route("admin.maintenances.index"))},b=()=>{r(!0)},y=()=>{r(!1),h.reload()};return e.jsxs(k,{children:[e.jsx(_,{title:`Maintenance Ticket ${s.ticket_id}`}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(u,{variant:"outline",size:"sm",onClick:f,className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"Back to Maintenance List"]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Maintenance Ticket ",s.ticket_id]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Created on ",a(s.created_at)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:n(s.status),children:s.status||"Unknown"}),e.jsxs(u,{onClick:b,className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Create Follow Up"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Ticket Information"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Ticket ID"}),e.jsx("p",{className:"font-mono text-lg",children:s.ticket_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(j,{className:n(s.status),children:s.status||"Unknown"})})]})]}),e.jsx(g,{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Subject Problem"}),e.jsx("p",{className:"mt-1",children:s.subject_problem||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Customer Report"}),e.jsx("p",{className:"mt-1 text-sm whitespace-pre-wrap text-gray-700",children:s.customer_report||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Technician Update"}),e.jsx("p",{className:"mt-1 text-sm whitespace-pre-wrap text-gray-700",children:s.technician_update_desc||"-"})]}),e.jsx(g,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Work By"}),e.jsx("p",{className:"mt-1",children:s.work_by||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created By"}),e.jsx("p",{className:"mt-1",children:s.created_by||"-"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created Date"}),e.jsx("p",{className:"mt-1 text-sm",children:a(s.created_at)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Close Date"}),e.jsx("p",{className:"mt-1 text-sm",children:a(s.ticket_close_date)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),e.jsx("p",{className:"mt-1 text-sm",children:a(s.updated_at)})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Customer Information"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Customer ID"}),e.jsx("p",{className:"mt-1 font-mono",children:((o=s.customer)==null?void 0:o.customer_id)||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Customer Name"}),e.jsx("p",{className:"mt-1 font-semibold",children:((d=s.customer)==null?void 0:d.customer_name)||"-"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),e.jsx("p",{className:"text-sm",children:((x=s.customer)==null?void 0:x.customer_email)||"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Phone"}),e.jsx("p",{className:"text-sm",children:((p=s.customer)==null?void 0:p.customer_phone)||"-"})]})]})]})]}),s.subscription&&e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Subscription Information"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Subscription ID"}),e.jsx("p",{className:"mt-1 font-mono",children:s.subscription.subscription_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),e.jsx("p",{className:"mt-1",children:s.subscription.subscription_description||"-"})]})]})]})]})]})]}),e.jsx(U,{isOpen:N,onClose:()=>r(!1),maintenance:s,onFollowUpCreated:y})]})}export{ue as default};
