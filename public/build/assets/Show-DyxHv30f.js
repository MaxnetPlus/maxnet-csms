import{J as w,r as C,j as e,Q as _,S as h}from"./app-BLMsowye.js";import{B as j}from"./badge-V2Eo-X_d.js";import{B as u}from"./createLucideIcon-CUBldMe5.js";import{C as i,a as l,b as c,c as m}from"./card-B5-cpJ5z.js";import{S as g}from"./separator-OV2PhN3Z.js";import{A as k}from"./app-layout-DYIzTkM1.js";import U from"./CreateFollowUpDialog-t5f9RZkG.js";import{A as S}from"./arrow-left-CG-7MUya.js";import{U as D}from"./user-plus-Dn8zPpc1.js";import{F}from"./file-text-05b324Yn.js";import{U as B}from"./user-BM4zM87a.js";import{M as T}from"./mail-C9_zgYu-.js";import{P as I}from"./phone-BrjNBUIz.js";import{S as L}from"./breadcrumbs-CCs6GOO2.js";import"./index-CMtCf2mO.js";import"./index-Cm_fvl7k.js";import"./index-Df0Z-Ljr.js";import"./chevron-down-BvCUAksh.js";import"./app-logo-CPs-mDNq.js";import"./target-B0bdXgee.js";import"./dialog-ouxr43Bl.js";import"./index-DYdo70gQ.js";import"./index-DWmM81tv.js";import"./label-Bsst4cD0.js";import"./select-BRAiHXQu.js";import"./index-BAQ9nKC8.js";import"./index-Ns_UjniZ.js";import"./index-B3pjSIR4.js";import"./textarea-_xEFqdmH.js";import"./circle-alert-B_xZhf3X.js";import"./loader-circle-BrrYJy7w.js";import"./index-BaoKEm2n.js";import"./chevron-right-CzpytQ1t.js";function he(){var o,d,x,p;const{maintenance:s}=w().props,[N,r]=C.useState(!1),n=t=>{switch(t==null?void 0:t.toLowerCase()){case"open":return"bg-red-100 text-red-800";case"closed":return"bg-green-100 text-green-800";case"in progress":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},a=t=>{if(!t)return"-";try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"-"}},f=()=>{h.visit(route("admin.maintenances.index"))},b=()=>{r(!0)},y=()=>{r(!1),h.reload()};return e.jsxs(k,{children:[e.jsx(_,{title:`Maintenance Ticket ${s.ticket_id}`}),e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(u,{variant:"outline",size:"sm",onClick:f,className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"Back to Maintenance List"]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Maintenance Ticket ",s.ticket_id]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Created on ",a(s.created_at)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:n(s.status),children:s.status||"Unknown"}),e.jsxs(u,{onClick:b,className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Create Follow Up"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Ticket Information"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Ticket ID"}),e.jsx("p",{className:"font-mono text-lg",children:s.ticket_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(j,{className:n(s.status),children:s.status||"Unknown"})})]})]}),e.jsx(g,{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Subject Problem"}),e.jsx("p",{className:"mt-1",children:s.subject_problem||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Customer Report"}),e.jsx("p",{className:"mt-1 text-sm whitespace-pre-wrap text-gray-700",children:s.customer_report||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Technician Update"}),e.jsx("p",{className:"mt-1 text-sm whitespace-pre-wrap text-gray-700",children:s.technician_update_desc||"-"})]}),e.jsx(g,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Work By"}),e.jsx("p",{className:"mt-1",children:s.work_by||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created By"}),e.jsx("p",{className:"mt-1",children:s.created_by||"-"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created Date"}),e.jsx("p",{className:"mt-1 text-sm",children:a(s.created_at)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Close Date"}),e.jsx("p",{className:"mt-1 text-sm",children:a(s.ticket_close_date)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),e.jsx("p",{className:"mt-1 text-sm",children:a(s.updated_at)})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Customer Information"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Customer ID"}),e.jsx("p",{className:"mt-1 font-mono",children:((o=s.customer)==null?void 0:o.customer_id)||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Customer Name"}),e.jsx("p",{className:"mt-1 font-semibold",children:((d=s.customer)==null?void 0:d.customer_name)||"-"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),e.jsx("p",{className:"text-sm",children:((x=s.customer)==null?void 0:x.customer_email)||"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Phone"}),e.jsx("p",{className:"text-sm",children:((p=s.customer)==null?void 0:p.customer_phone)||"-"})]})]})]})]}),s.subscription&&e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Subscription Information"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Subscription ID"}),e.jsx("p",{className:"mt-1 font-mono",children:s.subscription.subscription_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),e.jsx("p",{className:"mt-1",children:s.subscription.subscription_description||"-"})]})]})]})]})]})]}),e.jsx(U,{isOpen:N,onClose:()=>r(!1),maintenance:s,onFollowUpCreated:y})]})}export{he as default};
