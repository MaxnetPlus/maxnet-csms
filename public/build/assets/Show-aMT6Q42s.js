import{r as g,j as e,t as o}from"./app-Dut1LdAE.js";import{B as h}from"./badge-DeW1Opj4.js";import{a as v,B as m}from"./createLucideIcon-C0iULVoC.js";import{C as t,a as l,b as i,c as r}from"./card-Dx9aJHDz.js";import{S as j}from"./separator-DoTMbj2g.js";import{S as w}from"./sales-layout-Bz_FnvHD.js";import{A as p}from"./arrow-left-TsPNlG17.js";import{S as b}from"./square-pen-COAM9hfP.js";import{U as u}from"./user-QVsX6jI6.js";import{M as y}from"./mail-tWvr4wx2.js";import{P as S}from"./phone-DY7rRZVj.js";import{M as f}from"./map-pin-Ch5_NYO2.js";import{T as D}from"./target-Cupp5148.js";import{F as P}from"./file-text-Bo_ZNioe.js";import{S as _}from"./square-check-big-DgHCPjS0.js";import"./index-4ihCrLj8.js";import"./breadcrumbs-CcrN4L9y.js";import"./app-logo-CqiyE-ly.js";import"./index-CRfXtssg.js";import"./index-DOUln0NY.js";import"./index-CTJ23LsC.js";import"./index-CApfq8oQ.js";import"./index-C1Ioh-Wa.js";import"./index-BgiYP7hp.js";import"./index-hxn349B7.js";import"./chevron-right-CUpFF3n3.js";import"./chart-column-DTX-CJnC.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],n=v("Star",k);function le({prospect:s}){const[C,L]=g.useState(!1),c=a=>({new:"default",contacted:"secondary",qualified:"outline",converted:"success",rejected:"destructive"})[a]||"default",x=a=>({new:"Baru",contacted:"Dihubungi",qualified:"Terkualifikasi",converted:"Terkonversi",rejected:"Ditolak"})[a]||a,N=s.salesPoints?s.salesPoints.reduce((a,d)=>a+d.points_earned,0):0;return e.jsx(w,{breadcrumbs:[{title:"Dashboard",href:"/sales"},{title:"Prospek",href:"/sales/prospects"},{title:"Detail Prospek",href:`/sales/prospects/${s.id}`}],children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(m,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(o,{href:"/sales/prospects",children:e.jsx(p,{className:"h-4 w-4"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Detail Prospek"}),e.jsxs("p",{className:"text-muted-foreground",children:["Prospek: ",s.customer_name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{variant:c(s.status),children:x(s.status)}),e.jsx(m,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(o,{href:`/sales/prospects/${s.id}/edit`,children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Edit"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"Informasi Customer"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nama Customer"}),e.jsx("p",{className:"mt-1 text-lg font-medium",children:s.customer_name})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[s.customer_email&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm",children:[e.jsx(y,{className:"h-4 w-4"}),e.jsx("a",{href:`mailto:${s.customer_email}`,className:"text-blue-600 hover:underline",children:s.customer_email})]})]}),s.customer_number&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nomor Telepon"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("a",{href:`tel:${s.customer_number}`,className:"text-blue-600 hover:underline",children:s.customer_number})]})]})]}),s.address&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Alamat"}),e.jsxs("div",{className:"mt-1 flex items-start gap-2 text-sm",children:[e.jsx(f,{className:"mt-0.5 h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:s.address})]})]})]})]}),e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),"Lokasi & Sales"]})}),e.jsxs(r,{className:"space-y-4",children:[s.sales_location&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Lokasi Sales"}),e.jsx("p",{className:"mt-1 text-sm",children:s.sales_location})]}),s.latitude&&s.longitude&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Koordinat"}),e.jsxs("p",{className:"mt-1 font-mono text-sm",children:[s.latitude,", ",s.longitude]}),e.jsx(m,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{const a=`https://www.google.com/maps?q=${s.latitude},${s.longitude}`;window.open(a,"_blank")},children:"Lihat di Google Maps"})]}),e.jsx(j,{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Dibuat oleh"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm",children:[e.jsx(u,{className:"h-4 w-4"}),e.jsx("span",{children:s.sales.name}),e.jsxs("span",{className:"text-muted-foreground",children:["(",s.sales.email,")"]})]})]})]})]}),e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"Kategori & Poin"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Kategori"}),e.jsx("p",{className:"mt-1 text-sm font-medium",children:s.category.name}),s.category.description&&e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:s.category.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Poin Kategori"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("span",{className:"font-medium",children:[s.category.points," poin"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Total Poin Earned"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{className:"font-medium",children:[N," poin"]})]})]})]})]})]}),s.notes&&e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),"Catatan"]})}),e.jsx(r,{children:e.jsx("p",{className:"text-sm",children:s.notes})})]}),s.salesPoints&&s.salesPoints.length>0&&e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-5 w-5"}),"Riwayat Poin"]})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:s.salesPoints.map(a=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:a.description}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(a.date).toLocaleDateString("id-ID")," â€¢ ",a.type]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("span",{className:"font-medium",children:["+",a.points_earned]})]})]},a.id))})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(t,{children:[e.jsx(l,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Status Prospek"]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsx("div",{className:"text-center",children:e.jsx(h,{variant:c(s.status),className:"px-4 py-2 text-sm",children:x(s.status)})}),e.jsx(j,{}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Dibuat:"}),e.jsx("span",{children:new Date(s.created_at).toLocaleDateString("id-ID")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Diupdate:"}),e.jsx("span",{children:new Date(s.updated_at).toLocaleDateString("id-ID")})]}),s.converted_at&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Konversi:"}),e.jsx("span",{children:new Date(s.converted_at).toLocaleDateString("id-ID")})]})]})]})]})})]})]})})}export{le as default};
