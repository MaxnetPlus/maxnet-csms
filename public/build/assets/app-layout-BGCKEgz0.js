import{r as d,j as e,J as E,t as b}from"./app-Caplvkbj.js";import{h as g,i as M,d as j,e as v,f as C,U as L,b as G,c as U,g as B,j as F,N as q,a as V,B as W,A as X,k as J}from"./breadcrumbs-dFN1_U_-.js";import{u as K,c as Q,a as Y,b as Z,e as ee}from"./index-BTWrQYXc.js";import{a as m,u as te}from"./createLucideIcon-B_nUUohf.js";import{P as N}from"./index-CAOC8-7q.js";import{P as se}from"./index-BMyxxeHM.js";import{C as ae}from"./chevron-down-Ci-ChIoq.js";import{A as ne,T as ie}from"./app-logo-CmT7Dg9-.js";import{F as I}from"./file-text-UD7gAqkp.js";import{T as re}from"./trending-up-CXdbemyt.js";import{T as oe}from"./target-DtZPjXpG.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"m14.5 7-5 5",key:"dy991v"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9.5 7 5 5",key:"s45iea"}]],ce=m("BookX",le);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M10.5 5H19a2 2 0 0 1 2 2v8.5",key:"jqtk4d"}],["path",{d:"M17 11h-.5",key:"1961ue"}],["path",{d:"M19 19H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2",key:"1keqsi"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M7 11h4",key:"1o1z6v"}],["path",{d:"M7 15h2.5",key:"1ina1g"}]],pe=m("CaptionsOff",de);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],fe=m("Database",he);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],me=m("Headphones",ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],be=m("List",xe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M14.531 12.469 6.619 20.38a1 1 0 1 1-3-3l7.912-7.912",key:"we99rg"}],["path",{d:"M15.686 4.314A12.5 12.5 0 0 0 5.461 2.958 1 1 0 0 0 5.58 4.71a22 22 0 0 1 6.318 3.393",key:"1w6hck"}],["path",{d:"M17.7 3.7a1 1 0 0 0-1.4 0l-4.6 4.6a1 1 0 0 0 0 1.4l2.6 2.6a1 1 0 0 0 1.4 0l4.6-4.6a1 1 0 0 0 0-1.4z",key:"15hgfx"}],["path",{d:"M19.686 8.314a12.501 12.501 0 0 1 1.356 10.225 1 1 0 0 1-1.751-.119 22 22 0 0 0-3.393-6.319",key:"452b4h"}]],ve=m("Pickaxe",je);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ye=m("Shield",Ce);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ge=m("Tag",ke);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Ne=m("UserCheck",Me);var y="Collapsible",[Se,Qe]=Q(y),[Ae,S]=Se(y),D=d.forwardRef((t,n)=>{const{__scopeCollapsible:a,open:l,defaultOpen:r,disabled:p,onOpenChange:c,...s}=t,[i,h]=K({prop:l,defaultProp:r??!1,onChange:c,caller:y});return e.jsx(Ae,{scope:a,disabled:p,contentId:Y(),open:i,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),children:e.jsx(N.div,{"data-state":w(i),"data-disabled":p?"":void 0,...s,ref:n})})});D.displayName=y;var H="CollapsibleTrigger",$=d.forwardRef((t,n)=>{const{__scopeCollapsible:a,...l}=t,r=S(H,a);return e.jsx(N.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":w(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...l,ref:n,onClick:Z(t.onClick,r.onOpenToggle)})});$.displayName=H;var A="CollapsibleContent",z=d.forwardRef((t,n)=>{const{forceMount:a,...l}=t,r=S(A,t.__scopeCollapsible);return e.jsx(se,{present:a||r.open,children:({present:p})=>e.jsx(we,{...l,ref:n,present:p})})});z.displayName=A;var we=d.forwardRef((t,n)=>{const{__scopeCollapsible:a,present:l,children:r,...p}=t,c=S(A,a),[s,i]=d.useState(l),h=d.useRef(null),f=te(n,h),o=d.useRef(0),_=o.current,P=d.useRef(0),R=P.current,k=c.open||s,O=d.useRef(k),x=d.useRef(void 0);return d.useEffect(()=>{const u=requestAnimationFrame(()=>O.current=!1);return()=>cancelAnimationFrame(u)},[]),ee(()=>{const u=h.current;if(u){x.current=x.current||{transitionDuration:u.style.transitionDuration,animationName:u.style.animationName},u.style.transitionDuration="0s",u.style.animationName="none";const T=u.getBoundingClientRect();o.current=T.height,P.current=T.width,O.current||(u.style.transitionDuration=x.current.transitionDuration,u.style.animationName=x.current.animationName),i(l)}},[c.open,l]),e.jsx(N.div,{"data-state":w(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!k,...p,ref:f,style:{"--radix-collapsible-content-height":_?`${_}px`:void 0,"--radix-collapsible-content-width":R?`${R}px`:void 0,...t.style},children:k&&r})});function w(t){return t?"open":"closed"}var _e=D;function Pe({...t}){return e.jsx(_e,{"data-slot":"collapsible",...t})}function Re({...t}){return e.jsx($,{"data-slot":"collapsible-trigger",...t})}function Oe({...t}){return e.jsx(z,{"data-slot":"collapsible-content",...t})}function Te({items:t=[],groups:n=[]}){const a=E(),l=s=>s.some(i=>a.url.startsWith(i.href)),[r,p]=d.useState(()=>{const s={};return n.forEach(i=>{if(i.collapsible!==!1){const h=l(i.items);s[i.title]=h||(i.defaultOpen??!0)}}),s});d.useEffect(()=>{p(s=>{const i={...s};let h=!1;return n.forEach(f=>{f.collapsible!==!1&&l(f.items)&&!i[f.title]&&(i[f.title]=!0,h=!0)}),h?i:s})},[a.url,n]);const c=s=>{p(i=>({...i,[s]:!i[s]}))};return e.jsxs(e.Fragment,{children:[t.length>0&&e.jsxs(g,{children:[e.jsx(M,{children:"Platform"}),e.jsx(j,{children:t.map(s=>e.jsx(v,{children:e.jsx(C,{asChild:!0,isActive:a.url.startsWith(s.href),tooltip:{children:s.title},children:e.jsxs(b,{href:s.href,prefetch:!0,children:[s.icon&&e.jsx(s.icon,{}),e.jsx("span",{children:s.title})]})})},s.title))})]}),n.map(s=>{const i=s.collapsible!==!1,f=l(s.items)||(r[s.title]??!0);return i?e.jsx(Pe,{open:f,onOpenChange:()=>c(s.title),children:e.jsxs(g,{children:[e.jsx(Re,{asChild:!0,children:e.jsxs(M,{className:"group/label flex w-full cursor-pointer items-center justify-between text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",children:[e.jsx("span",{children:s.title}),e.jsx(ae,{className:"ml-auto h-4 w-4 transition-transform group-data-[state=open]/label:rotate-180"})]})}),e.jsx(Oe,{children:e.jsx(j,{children:s.items.map(o=>e.jsx(v,{children:e.jsx(C,{asChild:!0,isActive:a.url.startsWith(o.href),tooltip:{children:o.title},children:e.jsxs(b,{href:o.href,prefetch:!0,children:[o.icon&&e.jsx(o.icon,{}),e.jsx("span",{children:o.title})]})})},o.title))})})]})},s.title):e.jsxs(g,{children:[e.jsx(M,{children:s.title}),e.jsx(j,{children:s.items.map(o=>e.jsx(v,{children:e.jsx(C,{asChild:!0,isActive:a.url.startsWith(o.href),tooltip:{children:o.title},children:e.jsxs(b,{href:o.href,prefetch:!0,children:[o.icon&&e.jsx(o.icon,{}),e.jsx("span",{children:o.title})]})})},o.title))})]},s.title)})]})}function Ie(t,n){return t.map(a=>{const l=a.items.filter(r=>r.permission?n(r.permission):!0);return a.permission&&!n(a.permission)||l.length===0?null:{title:a.title,items:l,collapsible:a.collapsible??!0,defaultOpen:a.defaultOpen??!0}}).filter(a=>a!==null)}const Ee=[{title:"Subscription Map",collapsible:!0,defaultOpen:!1,items:[{title:"Cancel Subscription",href:"/admin/cancel-subscription",icon:ce,permission:"view-reports"},{title:"Dismantle Subscription",href:"/admin/dismantle-subscription",icon:ve,permission:"view-reports"},{title:"Suspend Subscription",href:"/admin/suspend-subscription",icon:pe,permission:"view-reports"}]},{title:"Sales Management",collapsible:!0,defaultOpen:!1,items:[{title:"Sales Users",href:"/admin/sales-management",icon:Ne,permission:"manage-sales-targets"},{title:"Prospects",href:"/admin/prospect-management",icon:oe,permission:"manage-prospects"},{title:"Prospect Categories",href:"/admin/prospect-categories",icon:ge,permission:"manage-prospect-categories"}]}],De=[{title:"Dashboard",href:"/dashboard",icon:I,permission:"view-reports"},{title:"Sales Performance Report",href:"/admin/sales-performance",icon:re,permission:"view-reports"},{title:"Subscriptions",href:"/admin/subscriptions",icon:be,permission:"view-reports"},{title:"Maintenance",href:"/admin/maintenances",icon:I,permission:"view-reports"},{title:"Customer Follow Up",href:"/admin/follow-ups",icon:me,permission:"view-reports"},{title:"User Management",href:"/admin/users",icon:L,permission:"view-users"},{title:"Roles & Permissions",href:"/admin/roles-permissions",icon:ye,permission:"manage-roles-and-permissions"},{title:"Database Import",href:"/admin/database-import",icon:fe,permission:"import-database"}];function He(){var p;const{auth:t}=E().props,n=((p=t==null?void 0:t.user)==null?void 0:p.permissions)||[],a=c=>n.includes(c),l=De.filter(c=>c.permission?a(c.permission):!0),r=Ie(Ee,a);return e.jsxs(G,{collapsible:"icon",variant:"inset",children:[e.jsx(U,{className:"border-b",children:e.jsx(j,{children:e.jsx(v,{children:e.jsx(C,{size:"lg",asChild:!0,children:e.jsxs(b,{href:"/dashboard",prefetch:!0,children:[e.jsx(ne,{}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-semibold",children:"MaxNet CSMS"}),e.jsx("span",{className:"truncate text-xs",children:"Customer Management"})]})]})})})})}),e.jsx(B,{children:e.jsx(Te,{items:l,groups:r})}),e.jsxs(F,{children:[e.jsx(ie,{}),e.jsx(q,{})]})]})}function $e({breadcrumbs:t=[]}){return e.jsx("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b border-sidebar-border/50 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"-ml-1"}),e.jsx(W,{breadcrumbs:t})]})})}function ze({children:t,breadcrumbs:n=[]}){return e.jsxs(X,{variant:"sidebar",children:[e.jsx(He,{}),e.jsxs(J,{variant:"sidebar",className:"overflow-x-hidden",children:[e.jsx($e,{breadcrumbs:n}),e.jsx("div",{className:"mx-10",children:t})]})]})}const Ye=({children:t,breadcrumbs:n,...a})=>e.jsx(ze,{breadcrumbs:n,...a,children:t});export{Ye as A,fe as D,ye as S};
