import{r as c,j as e,J as E,t as b}from"./app-DE-hsCNC.js";import{U as L,N as G,B as U,A as B,a as F}from"./breadcrumbs-CyRhQ6mX.js";import{b as q,c as V,u as W,a as X,e as J}from"./index-i1yjT0kI.js";import{a as m,u as K}from"./createLucideIcon-Cco9Y3GR.js";import{P as M}from"./index-CUFY0TLt.js";import{c as Q}from"./index-BVh7DB6t.js";import{i as k,j as N,e as j,f as v,g as y,u as Y,c as Z,d as ee,h as te,k as se,T as ae,b as ie}from"./theme-toggle-DUe8uWlC.js";import{C as ne}from"./chevron-down-yoRcCLtw.js";import{F as I}from"./file-text-Dp3GDcf5.js";import{T as re}from"./trending-up-4dz4ss3j.js";import{T as oe}from"./target-B55bVsRM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"m14.5 7-5 5",key:"dy991v"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9.5 7 5 5",key:"s45iea"}]],ce=m("BookX",le);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M10.5 5H19a2 2 0 0 1 2 2v8.5",key:"jqtk4d"}],["path",{d:"M17 11h-.5",key:"1961ue"}],["path",{d:"M19 19H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2",key:"1keqsi"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M7 11h4",key:"1o1z6v"}],["path",{d:"M7 15h2.5",key:"1ina1g"}]],pe=m("CaptionsOff",de);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ue=m("Database",he);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],me=m("Headphones",fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],be=m("List",xe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M14.531 12.469 6.619 20.38a1 1 0 1 1-3-3l7.912-7.912",key:"we99rg"}],["path",{d:"M15.686 4.314A12.5 12.5 0 0 0 5.461 2.958 1 1 0 0 0 5.58 4.71a22 22 0 0 1 6.318 3.393",key:"1w6hck"}],["path",{d:"M17.7 3.7a1 1 0 0 0-1.4 0l-4.6 4.6a1 1 0 0 0 0 1.4l2.6 2.6a1 1 0 0 0 1.4 0l4.6-4.6a1 1 0 0 0 0-1.4z",key:"15hgfx"}],["path",{d:"M19.686 8.314a12.501 12.501 0 0 1 1.356 10.225 1 1 0 0 1-1.751-.119 22 22 0 0 0-3.393-6.319",key:"452b4h"}]],ve=m("Pickaxe",je);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ce=m("Shield",ye);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ke=m("Tag",ge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Me=m("UserCheck",Ne);var C="Collapsible",[Se,Qe]=V(C),[we,S]=Se(C),$=c.forwardRef((s,n)=>{const{__scopeCollapsible:a,open:o,defaultOpen:r,disabled:d,onOpenChange:p,...t}=s,[i,h]=q({prop:o,defaultProp:r??!1,onChange:p,caller:C});return e.jsx(we,{scope:a,disabled:d,contentId:W(),open:i,onOpenToggle:c.useCallback(()=>h(u=>!u),[h]),children:e.jsx(M.div,{"data-state":A(i),"data-disabled":d?"":void 0,...t,ref:n})})});$.displayName=C;var D="CollapsibleTrigger",H=c.forwardRef((s,n)=>{const{__scopeCollapsible:a,...o}=s,r=S(D,a);return e.jsx(M.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":A(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...o,ref:n,onClick:X(s.onClick,r.onOpenToggle)})});H.displayName=D;var w="CollapsibleContent",z=c.forwardRef((s,n)=>{const{forceMount:a,...o}=s,r=S(w,s.__scopeCollapsible);return e.jsx(Q,{present:a||r.open,children:({present:d})=>e.jsx(Ae,{...o,ref:n,present:d})})});z.displayName=w;var Ae=c.forwardRef((s,n)=>{const{__scopeCollapsible:a,present:o,children:r,...d}=s,p=S(w,a),[t,i]=c.useState(o),h=c.useRef(null),u=K(n,h),l=c.useRef(0),_=l.current,R=c.useRef(0),P=R.current,g=p.open||t,O=c.useRef(g),x=c.useRef(void 0);return c.useEffect(()=>{const f=requestAnimationFrame(()=>O.current=!1);return()=>cancelAnimationFrame(f)},[]),J(()=>{const f=h.current;if(f){x.current=x.current||{transitionDuration:f.style.transitionDuration,animationName:f.style.animationName},f.style.transitionDuration="0s",f.style.animationName="none";const T=f.getBoundingClientRect();l.current=T.height,R.current=T.width,O.current||(f.style.transitionDuration=x.current.transitionDuration,f.style.animationName=x.current.animationName),i(o)}},[p.open,o]),e.jsx(M.div,{"data-state":A(p.open),"data-disabled":p.disabled?"":void 0,id:p.contentId,hidden:!g,...d,ref:u,style:{"--radix-collapsible-content-height":_?`${_}px`:void 0,"--radix-collapsible-content-width":P?`${P}px`:void 0,...s.style},children:g&&r})});function A(s){return s?"open":"closed"}var _e=$;function Re({...s}){return e.jsx(_e,{"data-slot":"collapsible",...s})}function Pe({...s}){return e.jsx(H,{"data-slot":"collapsible-trigger",...s})}function Oe({...s}){return e.jsx(z,{"data-slot":"collapsible-content",...s})}function Te({items:s=[],groups:n=[]}){const a=E(),o=t=>t.some(i=>a.url.startsWith(i.href)),[r,d]=c.useState(()=>{const t={};return n.forEach(i=>{if(i.collapsible!==!1){const h=o(i.items);t[i.title]=h||(i.defaultOpen??!0)}}),t});c.useEffect(()=>{d(t=>{const i={...t};let h=!1;return n.forEach(u=>{u.collapsible!==!1&&o(u.items)&&!i[u.title]&&(i[u.title]=!0,h=!0)}),h?i:t})},[a.url,n]);const p=t=>{d(i=>({...i,[t]:!i[t]}))};return e.jsxs(e.Fragment,{children:[s.length>0&&e.jsxs(k,{children:[e.jsx(N,{children:"Platform"}),e.jsx(j,{children:s.map(t=>e.jsx(v,{children:e.jsx(y,{asChild:!0,isActive:a.url.startsWith(t.href),tooltip:{children:t.title},children:e.jsxs(b,{href:t.href,prefetch:!0,children:[t.icon&&e.jsx(t.icon,{}),e.jsx("span",{children:t.title})]})})},t.title))})]}),n.map(t=>{const i=t.collapsible!==!1,u=o(t.items)||(r[t.title]??!0);return i?e.jsx(Re,{open:u,onOpenChange:()=>p(t.title),children:e.jsxs(k,{children:[e.jsx(Pe,{asChild:!0,children:e.jsxs(N,{className:"group/label relative flex w-full cursor-pointer items-center justify-between rounded-lg px-3 py-2 text-sm text-sidebar-foreground/80 transition-all duration-200 ease-out before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-r before:from-white/5 before:to-transparent before:opacity-0 before:transition-opacity before:duration-200 hover:bg-sidebar-accent/20 hover:text-sidebar-foreground hover:before:opacity-100",children:[e.jsx("span",{className:"font-medium tracking-wide",children:t.title}),e.jsx(ne,{className:"ml-auto h-4 w-4 transition-transform duration-200 ease-out group-data-[state=open]/label:rotate-180"})]})}),e.jsx(Oe,{className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down transition-all duration-200 ease-out",children:e.jsx(j,{children:t.items.map(l=>e.jsx(v,{children:e.jsx(y,{asChild:!0,isActive:a.url.startsWith(l.href),tooltip:{children:l.title},children:e.jsxs(b,{href:l.href,prefetch:!0,children:[l.icon&&e.jsx(l.icon,{}),e.jsx("span",{children:l.title})]})})},l.title))})})]})},t.title):e.jsxs(k,{children:[e.jsx(N,{children:t.title}),e.jsx(j,{children:t.items.map(l=>e.jsx(v,{children:e.jsx(y,{asChild:!0,isActive:a.url.startsWith(l.href),tooltip:{children:l.title},children:e.jsxs(b,{href:l.href,prefetch:!0,children:[l.icon&&e.jsx(l.icon,{}),e.jsx("span",{children:l.title})]})})},l.title))})]},t.title)})]})}function Ie(s,n){return s.map(a=>{const o=a.items.filter(r=>r.permission?n(r.permission):!0);return a.permission&&!n(a.permission)||o.length===0?null:{title:a.title,items:o,collapsible:a.collapsible??!0,defaultOpen:a.defaultOpen??!0}}).filter(a=>a!==null)}const Ee=[{title:"Subscription Map",collapsible:!0,defaultOpen:!1,items:[{title:"Cancel Subscription",href:"/admin/cancel-subscription",icon:ce,permission:"view-reports"},{title:"Dismantle Subscription",href:"/admin/dismantle-subscription",icon:ve,permission:"view-reports"},{title:"Suspend Subscription",href:"/admin/suspend-subscription",icon:pe,permission:"view-reports"}]},{title:"Sales Management",collapsible:!0,defaultOpen:!1,items:[{title:"Sales Users",href:"/admin/sales-management",icon:Me,permission:"manage-sales-targets"},{title:"Prospects",href:"/admin/prospect-management",icon:oe,permission:"manage-prospects"},{title:"Prospect Categories",href:"/admin/prospect-categories",icon:ke,permission:"manage-prospect-categories"}]}],$e=[{title:"Dashboard",href:"/dashboard",icon:I,permission:"view-reports"},{title:"Sales Performance Report",href:"/admin/sales-performance",icon:re,permission:"view-reports"},{title:"Subscriptions",href:"/admin/subscriptions",icon:be,permission:"view-reports"},{title:"Maintenance",href:"/admin/maintenances",icon:I,permission:"view-reports"},{title:"Customer Follow Up",href:"/admin/follow-ups",icon:me,permission:"view-reports"},{title:"User Management",href:"/admin/users",icon:L,permission:"view-users"},{title:"Roles & Permissions",href:"/admin/roles-permissions",icon:Ce,permission:"manage-roles-and-permissions"},{title:"Database Import",href:"/admin/database-import",icon:ue,permission:"import-database"}];function De(){var t;const{auth:s}=E().props,n=((t=s==null?void 0:s.user)==null?void 0:t.permissions)||[],{state:a}=Y(),o=a==="collapsed",r=i=>n.includes(i),d=$e.filter(i=>i.permission?r(i.permission):!0),p=Ie(Ee,r);return e.jsxs(Z,{collapsible:"icon",variant:"inset",children:[e.jsx("style",{children:`
                [data-state="collapsed"] .collapsed-user {
                    display: flex !important;
                }
                [data-state="collapsed"] .collapsed-theme {
                    display: flex !important;
                }
                .collapsed-user {
                    display: none;
                }
            `}),e.jsx(ee,{children:e.jsx(j,{children:e.jsx(v,{children:e.jsx(y,{size:"lg",asChild:!0,children:e.jsxs(b,{href:"/dashboard",prefetch:!0,children:[e.jsx("div",{className:"flex w-full items-center justify-center",children:o?e.jsx("img",{src:"/assets/logo-collapsible.png",alt:"App Logo Collapsed",className:"mx-auto h-8 w-8 flex-shrink-0 object-contain"}):e.jsx("img",{src:"/assets/logo.png",alt:"App Logo",className:"mx-auto h-8 w-auto flex-shrink-0"})}),e.jsxs("div",{className:`grid flex-1 text-left text-sm leading-tight ${o?"hidden":"block"}`,children:[e.jsx("span",{className:"truncate font-semibold",children:"MaxNet CSMS"}),e.jsx("span",{className:"truncate text-xs opacity-80",children:"Customer Management"})]})]})})})})}),e.jsx(te,{children:e.jsx(Te,{items:d,groups:p})}),e.jsxs(se,{className:"space-y-6",children:[e.jsx(ae,{}),e.jsx(G,{})]})]})}function He({breadcrumbs:s=[]}){return e.jsx("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b border-sidebar-border/50 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"-ml-1"}),e.jsx(U,{breadcrumbs:s})]})})}function ze({children:s,breadcrumbs:n=[]}){return e.jsxs(B,{variant:"sidebar",children:[e.jsx(De,{}),e.jsxs(F,{variant:"sidebar",className:"overflow-x-hidden",children:[e.jsx(He,{breadcrumbs:n}),e.jsx("div",{className:"mx-10",children:s})]})]})}const Ye=({children:s,breadcrumbs:n,...a})=>e.jsx(ze,{breadcrumbs:n,...a,children:s});export{Ye as A,ue as D,Ce as S};
