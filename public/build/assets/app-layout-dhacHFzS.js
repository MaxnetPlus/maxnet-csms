import{r as d,j as e,J as E,t as b}from"./app-B2hYMNI5.js";import{h as k,i as N,d as j,e as v,f as y,U as z,b as G,c as U,g as F,j as B,N as q,a as V,B as W,A as X,k as J}from"./breadcrumbs-kb4jvroI.js";import{u as Y,c as K,a as Q,b as Z,e as ee}from"./index-CM3CHnuf.js";import{a as f,u as te}from"./createLucideIcon-DV_iH8MW.js";import{P as M}from"./index-Dkk_Qt6x.js";import{P as se}from"./index-C74G8zdK.js";import{C as ae}from"./chevron-down-CwpXDSUf.js";import{A as ne,T as ie}from"./app-logo-DAmxlVvw.js";import{F as I}from"./file-text-D6HImMR6.js";import{T as re}from"./trending-up-BJVc80kP.js";import{T as oe}from"./target-BiGQP1qa.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"m14.5 7-5 5",key:"dy991v"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9.5 7 5 5",key:"s45iea"}]],ce=f("BookX",le);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M10.5 5H19a2 2 0 0 1 2 2v8.5",key:"jqtk4d"}],["path",{d:"M17 11h-.5",key:"1961ue"}],["path",{d:"M19 19H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2",key:"1keqsi"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M7 11h4",key:"1o1z6v"}],["path",{d:"M7 15h2.5",key:"1ina1g"}]],pe=f("CaptionsOff",de);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ue=f("Database",he);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],fe=f("Headphones",me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],be=f("List",xe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M14.531 12.469 6.619 20.38a1 1 0 1 1-3-3l7.912-7.912",key:"we99rg"}],["path",{d:"M15.686 4.314A12.5 12.5 0 0 0 5.461 2.958 1 1 0 0 0 5.58 4.71a22 22 0 0 1 6.318 3.393",key:"1w6hck"}],["path",{d:"M17.7 3.7a1 1 0 0 0-1.4 0l-4.6 4.6a1 1 0 0 0 0 1.4l2.6 2.6a1 1 0 0 0 1.4 0l4.6-4.6a1 1 0 0 0 0-1.4z",key:"15hgfx"}],["path",{d:"M19.686 8.314a12.501 12.501 0 0 1 1.356 10.225 1 1 0 0 1-1.751-.119 22 22 0 0 0-3.393-6.319",key:"452b4h"}]],ve=f("Pickaxe",je);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ce=f("Shield",ye);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ke=f("Tag",ge);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Me=f("UserCheck",Ne);var C="Collapsible",[Se,Ke]=K(C),[we,S]=Se(C),D=d.forwardRef((t,n)=>{const{__scopeCollapsible:a,open:l,defaultOpen:r,disabled:p,onOpenChange:c,...s}=t,[i,h]=Y({prop:l,defaultProp:r??!1,onChange:c,caller:C});return e.jsx(we,{scope:a,disabled:p,contentId:Q(),open:i,onOpenToggle:d.useCallback(()=>h(u=>!u),[h]),children:e.jsx(M.div,{"data-state":A(i),"data-disabled":p?"":void 0,...s,ref:n})})});D.displayName=C;var H="CollapsibleTrigger",L=d.forwardRef((t,n)=>{const{__scopeCollapsible:a,...l}=t,r=S(H,a);return e.jsx(M.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":A(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...l,ref:n,onClick:Z(t.onClick,r.onOpenToggle)})});L.displayName=H;var w="CollapsibleContent",$=d.forwardRef((t,n)=>{const{forceMount:a,...l}=t,r=S(w,t.__scopeCollapsible);return e.jsx(se,{present:a||r.open,children:({present:p})=>e.jsx(Ae,{...l,ref:n,present:p})})});$.displayName=w;var Ae=d.forwardRef((t,n)=>{const{__scopeCollapsible:a,present:l,children:r,...p}=t,c=S(w,a),[s,i]=d.useState(l),h=d.useRef(null),u=te(n,h),o=d.useRef(0),_=o.current,P=d.useRef(0),R=P.current,g=c.open||s,O=d.useRef(g),x=d.useRef(void 0);return d.useEffect(()=>{const m=requestAnimationFrame(()=>O.current=!1);return()=>cancelAnimationFrame(m)},[]),ee(()=>{const m=h.current;if(m){x.current=x.current||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const T=m.getBoundingClientRect();o.current=T.height,P.current=T.width,O.current||(m.style.transitionDuration=x.current.transitionDuration,m.style.animationName=x.current.animationName),i(l)}},[c.open,l]),e.jsx(M.div,{"data-state":A(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!g,...p,ref:u,style:{"--radix-collapsible-content-height":_?`${_}px`:void 0,"--radix-collapsible-content-width":R?`${R}px`:void 0,...t.style},children:g&&r})});function A(t){return t?"open":"closed"}var _e=D;function Pe({...t}){return e.jsx(_e,{"data-slot":"collapsible",...t})}function Re({...t}){return e.jsx(L,{"data-slot":"collapsible-trigger",...t})}function Oe({...t}){return e.jsx($,{"data-slot":"collapsible-content",...t})}function Te({items:t=[],groups:n=[]}){const a=E(),l=s=>s.some(i=>a.url.startsWith(i.href)),[r,p]=d.useState(()=>{const s={};return n.forEach(i=>{if(i.collapsible!==!1){const h=l(i.items);s[i.title]=h||(i.defaultOpen??!0)}}),s});d.useEffect(()=>{p(s=>{const i={...s};let h=!1;return n.forEach(u=>{u.collapsible!==!1&&l(u.items)&&!i[u.title]&&(i[u.title]=!0,h=!0)}),h?i:s})},[a.url,n]);const c=s=>{p(i=>({...i,[s]:!i[s]}))};return e.jsxs(e.Fragment,{children:[t.length>0&&e.jsxs(k,{children:[e.jsx(N,{children:"Platform"}),e.jsx(j,{children:t.map(s=>e.jsx(v,{children:e.jsx(y,{asChild:!0,isActive:a.url.startsWith(s.href),tooltip:{children:s.title},children:e.jsxs(b,{href:s.href,prefetch:!0,children:[s.icon&&e.jsx(s.icon,{}),e.jsx("span",{children:s.title})]})})},s.title))})]}),n.map(s=>{const i=s.collapsible!==!1,u=l(s.items)||(r[s.title]??!0);return i?e.jsx(Pe,{open:u,onOpenChange:()=>c(s.title),children:e.jsxs(k,{children:[e.jsx(Re,{asChild:!0,children:e.jsxs(N,{className:"group/label relative flex w-full cursor-pointer items-center justify-between rounded-lg px-3 py-2 text-sm text-sidebar-foreground/80 transition-all duration-200 ease-out before:absolute before:inset-0 before:rounded-lg before:bg-gradient-to-r before:from-white/5 before:to-transparent before:opacity-0 before:transition-opacity before:duration-200 hover:bg-sidebar-accent/20 hover:text-sidebar-foreground hover:before:opacity-100",children:[e.jsx("span",{className:"font-medium tracking-wide",children:s.title}),e.jsx(ae,{className:"ml-auto h-4 w-4 transition-transform duration-200 ease-out group-data-[state=open]/label:rotate-180"})]})}),e.jsx(Oe,{className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down transition-all duration-200 ease-out",children:e.jsx(j,{children:s.items.map(o=>e.jsx(v,{children:e.jsx(y,{asChild:!0,isActive:a.url.startsWith(o.href),tooltip:{children:o.title},children:e.jsxs(b,{href:o.href,prefetch:!0,children:[o.icon&&e.jsx(o.icon,{}),e.jsx("span",{children:o.title})]})})},o.title))})})]})},s.title):e.jsxs(k,{children:[e.jsx(N,{children:s.title}),e.jsx(j,{children:s.items.map(o=>e.jsx(v,{children:e.jsx(y,{asChild:!0,isActive:a.url.startsWith(o.href),tooltip:{children:o.title},children:e.jsxs(b,{href:o.href,prefetch:!0,children:[o.icon&&e.jsx(o.icon,{}),e.jsx("span",{children:o.title})]})})},o.title))})]},s.title)})]})}function Ie(t,n){return t.map(a=>{const l=a.items.filter(r=>r.permission?n(r.permission):!0);return a.permission&&!n(a.permission)||l.length===0?null:{title:a.title,items:l,collapsible:a.collapsible??!0,defaultOpen:a.defaultOpen??!0}}).filter(a=>a!==null)}const Ee=[{title:"Subscription Map",collapsible:!0,defaultOpen:!1,items:[{title:"Cancel Subscription",href:"/admin/cancel-subscription",icon:ce,permission:"view-reports"},{title:"Dismantle Subscription",href:"/admin/dismantle-subscription",icon:ve,permission:"view-reports"},{title:"Suspend Subscription",href:"/admin/suspend-subscription",icon:pe,permission:"view-reports"}]},{title:"Sales Management",collapsible:!0,defaultOpen:!1,items:[{title:"Sales Users",href:"/admin/sales-management",icon:Me,permission:"manage-sales-targets"},{title:"Prospects",href:"/admin/prospect-management",icon:oe,permission:"manage-prospects"},{title:"Prospect Categories",href:"/admin/prospect-categories",icon:ke,permission:"manage-prospect-categories"}]}],De=[{title:"Dashboard",href:"/dashboard",icon:I,permission:"view-reports"},{title:"Sales Performance Report",href:"/admin/sales-performance",icon:re,permission:"view-reports"},{title:"Subscriptions",href:"/admin/subscriptions",icon:be,permission:"view-reports"},{title:"Maintenance",href:"/admin/maintenances",icon:I,permission:"view-reports"},{title:"Customer Follow Up",href:"/admin/follow-ups",icon:fe,permission:"view-reports"},{title:"User Management",href:"/admin/users",icon:z,permission:"view-users"},{title:"Roles & Permissions",href:"/admin/roles-permissions",icon:Ce,permission:"manage-roles-and-permissions"},{title:"Database Import",href:"/admin/database-import",icon:ue,permission:"import-database"}];function He(){var p;const{auth:t}=E().props,n=((p=t==null?void 0:t.user)==null?void 0:p.permissions)||[],a=c=>n.includes(c),l=De.filter(c=>c.permission?a(c.permission):!0),r=Ie(Ee,a);return e.jsxs(G,{collapsible:"icon",variant:"inset",children:[e.jsx(U,{children:e.jsx(j,{children:e.jsx(v,{children:e.jsx(y,{size:"lg",asChild:!0,children:e.jsxs(b,{href:"/dashboard",prefetch:!0,children:[e.jsx(ne,{className:"group-data-[collapsible=icon]:px-2",normalLogoClassName:"transition-all duration-200",collapsedLogoClassName:"transition-all duration-200"}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight group-data-[collapsible=icon]:sr-only",children:[e.jsx("span",{className:"truncate font-semibold",children:"MaxNet CSMS"}),e.jsx("span",{className:"truncate text-xs opacity-80",children:"Customer Management"})]})]})})})})}),e.jsx(F,{children:e.jsx(Te,{items:l,groups:r})}),e.jsxs(B,{className:"space-y-6",children:[e.jsx(ie,{}),e.jsx(q,{})]})]})}function Le({breadcrumbs:t=[]}){return e.jsx("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b border-sidebar-border/50 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"-ml-1"}),e.jsx(W,{breadcrumbs:t})]})})}function $e({children:t,breadcrumbs:n=[]}){return e.jsxs(X,{variant:"sidebar",children:[e.jsx(He,{}),e.jsxs(J,{variant:"sidebar",className:"overflow-x-hidden",children:[e.jsx(Le,{breadcrumbs:n}),e.jsx("div",{className:"mx-10 my-10",children:t}),e.jsx("div",{className:"mt-auto mb-2",children:e.jsxs("p",{className:"text-center text-xs text-neutral-500 dark:text-neutral-400",children:["© ",new Date().getFullYear()," Made with ❤️"]})})]})]})}const Qe=({children:t,breadcrumbs:n,...a})=>e.jsx($e,{breadcrumbs:n,...a,children:t});export{Qe as A,ue as D,Ce as S};
